@import 'tailwindcss';

/* 引入本地字体 */
@font-face {
  font-family: 'LXGWWenKai';
  src: url('https://lxd-waimao.oss-cn-hangzhou.aliyuncs.com/daoyou/fonts/LXGWWenKaiLite-Regular.ttf')
    format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Ma Shan Zheng';
  src: url('https://lxd-waimao.oss-cn-hangzhou.aliyuncs.com/daoyou/fonts/MaShanZheng-Regular.ttf')
    format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@theme {
  /* 色彩系统 */
  --color-paper: #f8f3e6;
  --color-ink: #2c1810;
  --color-ink-secondary: #5a4a42;
  --color-crimson: #c1121f;
  --color-teal: #4a7c59;
  --color-wood: #8b4513;
  --color-gold: #efbf04;
  --color-ink-muted: rgba(44, 24, 16, 0.6);

  /* 品阶色板 */
  --color-tier-fan: #758a99;
  --color-tier-ling: #16a951;
  --color-tier-xuan: #1685a9;
  --color-tier-zhen: #b35c44;
  --color-tier-di: #003472;
  --color-tier-tian: #efbf04;
  --color-tier-xian: #801dae;
  --color-tier-shen: #c1121f;
}

@theme inline {
  --color-background: var(--color-paper);
  --color-foreground: var(--color-ink);
  --font-sans: var(--font-lxgwwenkai);
  --font-mono: var(--font-geist-mono);
  --font-heading: 'Ma Shan Zheng', cursive;
}

:root {
  /* 字体变量 */
  --font-lxgwwenkai: 'LXGWWenKai', serif;
  --font-ma-shan-zheng: 'Ma Shan Zheng', cursive;
}

body {
  background: var(--color-paper);
  color: var(--color-ink);
  font-family: var(--font-lxgwwenkai), Arial, Helvetica, sans-serif;
}

/* 标题字体样式 */
h1,
h2,
h3,
h4,
h5,
h6,
.font-heading {
  font-family: var(--font-ma-shan-zheng), Arial, Helvetica, sans-serif;
}

/* 宣纸背景 */
.bg-paper {
  background-color: var(--color-paper);
  background-image: url('/assets/paper.png');
  background-size: 300px;
}

.bgi-map {
  background-image: url('https://lxd-waimao.oss-cn-hangzhou.aliyuncs.com/daoyou/map/map.webp');
}

/* 移动端适配 */
@media (max-width: 768px) {
  body {
    font-size: 16px;
  }

  h1 {
    font-size: 1.75rem;
  }

  h2 {
    font-size: 1.5rem;
  }

  h3 {
    font-size: 1.25rem;
  }
}

/* 卷轴效果 */
.character-scroll {
  position: relative;
  margin: 2rem 0;
}

.character-scroll::before,
.character-scroll::after {
  content: '';
  display: block;
  height: 20px;
  background: var(--color-wood);
  margin: 0 20px;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.scroll-content {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(4px);
  border: 1px solid rgba(44, 24, 16, 0.1);
  border-radius: 0.5rem;
  padding: 1.5rem;
}

/* 云纹分隔线 */
.cloud-divider {
  height: 40px;
  background-image: url("data:image/svg+xml,%3Csvg width='100' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,10 Q25,5 50,10 T100,10' stroke='%232c1810' stroke-width='1' fill='none' opacity='0.2'/%3E%3C/svg%3E");
  background-repeat: repeat-x;
  background-size: 100px 20px;
  margin: 2rem 0;
}

/* 战报样式增强 */
.battle-report {
  font-family: var(--font-lxgwwenkai), serif;
  line-height: 1.8;
  text-align: left;
}

.battle-report turn {
  color: var(--color-crimson);
  font-weight: bold;
}

.battle-report name {
  color: var(--color-ink);
  font-weight: 600;
}

.battle-report skill {
  color: var(--color-teal);
  font-weight: 600;
}

.battle-report damage {
  color: var(--color-crimson);
  font-weight: bold;
}

.battle-report heal {
  color: var(--color-teal);
  font-weight: bold;
}

.battle-report effect {
  color: var(--color-wood);
  font-style: italic;
}

.battle-report result {
  color: var(--color-crimson);
  font-weight: bold;
}

/* 动画 */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}

/* 丹炉冒烟动画 */
@keyframes smoke {
  0% {
    opacity: 0.8;
    transform: translateY(0) scale(1);
  }
  50% {
    opacity: 0.4;
    transform: translateY(-10px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-20px) scale(1.5);
  }
}

.smoke {
  animation: smoke 2s infinite;
}
